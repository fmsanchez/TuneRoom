<div class="bg">
<div class="container">
	<h1 class="page-header sigmar"><%= @room.name %></h1>
	<div class="row">
		<div id="queue_col" class="col-md-4 col-xs-12">
			<h2 class="text-center col-title">Queue</h2>
			<div class="queue-pane">
				<% @queue.each do |key,song| %>
				<div class="song">
					<div class="thumbnail active">
						<p class="lead text-center">1</p>
					</div>
					<p class="title"><%= song['title'] %> <br> <small><%= song['artist'] %></small></p>
					<button data-id="<%= key %>" class="pull-right btn btn-sm btn-default"><i class="fa fa-thumbs-up"></i></button>
					<span class="pull-right popularity"><%= song['popularity'] %></span>
					<button data-id="<%= key %>" class="pull-right btn btn-sm btn-default"><i class="fa fa-thumbs-down"></i></button>
					<p class="text-muted">3:04</p>
					<div style="clear: both;"></div>
				</div>
				<% end %>
			</div>
		</div>
		<div id="library_col" class="col-md-4 col-xs-12">
			<h2 class="text-center col-title">Library</h2>
			<div class="input-group">
				<input id="library-query" type="text" class="form-control">
				<span class="input-group-btn">
					<button id="library-search-button" class="btn btn-primary" type="button">Search</button>
				</span>
			</div><!-- /input-group -->
			<div class="song-pane">
				<% count = 1 %>
				<% @library.each do |key, song| %>
				<div class="song">
					<div class="thumbnail">
						<p class="lead text-center"><%= count %></p>
					</div>
					<p class="title"><%= song['title'] %> <br> <small><%= song['artist'] %></small></p>
					<button data-id="<%= key %>" class="pull-right btn btn-sm btn-info"><i class="fa fa-plus"></i></button>
					<p class="text-muted">3:04</p>
					<div style="clear: both;"></div>
				</div>
				<% end %>
			</div>
		</div>
		<div id="youtube_col" class="col-md-4 col-xs-12">
			<h2 class="text-center col-title">Youtube</h2>
			<div class="input-group">
				<input id="query" type="text" class="form-control">
				<span class="input-group-btn">
					<button id="search-button" class="btn btn-primary" type="button" disabled="true">Search Youtube</button>
				</span>
			</div><!-- /input-group -->
			<div id="search-container">
			</div>
		</div>
	</div>
	<!--<%= link_to "What", :controller => 'rooms', :action => 'send_mp3', :filename => 'what.mp3' %>-->
	<div id="response"></div>
</div>
</div>

    <script>
		// Your use of the YouTube API must comply with the Terms of Service:
		// https://developers.google.com/youtube/terms

		// Called automatically when JavaScript client library is loaded.
		function onClientLoad() {
		    gapi.client.load('youtube', 'v3', onYouTubeApiLoad);
		}

		// Called automatically when YouTube API interface is loaded (see line 9).
		function onYouTubeApiLoad() {
		    // This API key is intended for use only in this lesson.
		    // See http://goo.gl/PdPA1 to get a key for your own applications.
		    var x = gapi.client.setApiKey('AIzaSyBmtjW6gyw2u5cCWS9xovrbFFzxxbJeinM');

			$("#search-button").attr("disabled", false);
		}
    </script>
    <script src="https://apis.google.com/js/client.js?onload=onClientLoad"></script>
